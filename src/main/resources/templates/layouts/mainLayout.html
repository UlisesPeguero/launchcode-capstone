<!DOCTYPE html>
<html th:fragment="layout (otherResources, content)" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Pet Boarding Service</title>
  <!-- Bootstraps -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  <!-- CSS -->   <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}"/>
  <link rel="stylesheet" type="text/css" th:href="@{/css/themes/theme.{theme}.css (theme=(${session.user} ? ${session.user.theme} : 'lightBlue'))}"/>
  <link rel="stylesheet" type="text/css" th:href="@{/css/themes/themes.css}"/>
  <!-- Bootstraps JS-->
  <script src="https://code.jquery.com/jquery-3.6.3.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
          crossorigin="anonymous"></script>
  <script src="/js/themes.js"></script>
  <!-- Other CSS/JS -->
  <th:block th:replace="${otherResources}"></th:block>
  <script th:inline="javascript">


    $(function () {
      $("[data-bs-toggle='tooltip']").tooltip();

    });
  </script>
</head>

<body th:class="${session.user} ? ${session.user.theme} : 'lightBlue'">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="paw-icon" viewBox="0 0 30 30">
    <path
            d="M23.625 18.1625C23.1753 17.9156 22.779 17.5818 22.4593 17.1805C22.1396 16.7793 21.9027 16.3185 21.7625 15.825C21.4004 14.5767 20.6428 13.4797 19.6036 12.6991C18.5644 11.9185 17.2998 11.4964 16 11.4964C14.7002 11.4964 13.4356 11.9185 12.3964 12.6991C11.3572 13.4797 10.5996 14.5767 10.2375 15.825C10.0973 16.3185 9.8604 16.7793 9.54068 17.1805C9.22096 17.5818 8.82474 17.9156 8.375 18.1625C7.29802 18.7451 6.44625 19.6705 5.95467 20.7919C5.46308 21.9134 5.35979 23.1669 5.66115 24.3537C5.96252 25.5405 6.65131 26.5928 7.61839 27.3438C8.58547 28.0949 9.77553 28.5018 11 28.5C11.7333 28.4981 12.4592 28.3537 13.1375 28.075C14.0446 27.6975 15.0175 27.5031 16 27.5031C16.9825 27.5031 17.9554 27.6975 18.8625 28.075C19.5408 28.3537 20.2667 28.4981 21 28.5C22.2245 28.5018 23.4145 28.0949 24.3816 27.3438C25.3487 26.5928 26.0375 25.5405 26.3388 24.3537C26.6402 23.1669 26.5369 21.9134 26.0453 20.7919C25.5538 19.6705 24.702 18.7451 23.625 18.1625ZM21 25.5C20.6646 25.5026 20.3323 25.4344 20.025 25.3H20.0125C18.7407 24.7719 17.3771 24.5 16 24.5C14.6229 24.5 13.2593 24.7719 11.9875 25.3H11.975C11.6677 25.4344 11.3354 25.5026 11 25.5C10.4435 25.5 9.90295 25.3144 9.4639 24.9725C9.02485 24.6306 8.71242 24.1519 8.5761 23.6124C8.43979 23.0729 8.48738 22.5033 8.71133 21.9939C8.93528 21.4845 9.3228 21.0643 9.8125 20.8H9.825C11.4268 19.9151 12.6133 18.432 13.125 16.675C13.3019 16.0488 13.6784 15.4974 14.1974 15.1047C14.7163 14.7121 15.3493 14.4996 16 14.4996C16.6507 14.4996 17.2837 14.7121 17.8026 15.1047C18.3216 15.4974 18.6981 16.0488 18.875 16.675C19.3867 18.432 20.5732 19.9151 22.175 20.8H22.1875C22.6772 21.0643 23.0647 21.4845 23.2887 21.9939C23.5126 22.5033 23.5602 23.0729 23.4239 23.6124C23.2876 24.1519 22.9752 24.6306 22.5361 24.9725C22.0971 25.3144 21.5565 25.5 21 25.5ZM29 13C29 13.5933 28.8241 14.1734 28.4944 14.6667C28.1648 15.1601 27.6962 15.5446 27.1481 15.7716C26.5999 15.9987 25.9967 16.0581 25.4147 15.9424C24.8328 15.8266 24.2982 15.5409 23.8787 15.1213C23.4591 14.7018 23.1734 14.1672 23.0576 13.5853C22.9419 13.0033 23.0013 12.4001 23.2284 11.852C23.4554 11.3038 23.8399 10.8352 24.3333 10.5056C24.8266 10.1759 25.4067 10 26 10C26.3944 9.99835 26.7853 10.0748 27.15 10.225C27.5147 10.3752 27.8461 10.5961 28.125 10.875C28.4039 11.1539 28.6248 11.4853 28.775 11.85C28.9252 12.2147 29.0017 12.6056 29 13ZM6 16C5.40666 16 4.82664 15.8241 4.33329 15.4944C3.83994 15.1648 3.45543 14.6962 3.22836 14.1481C3.0013 13.5999 2.94189 12.9967 3.05765 12.4147C3.1734 11.8328 3.45912 11.2982 3.87868 10.8787C4.29824 10.4591 4.83279 10.1734 5.41473 10.0576C5.99667 9.94189 6.59987 10.0013 7.14805 10.2284C7.69623 10.4554 8.16477 10.8399 8.49441 11.3333C8.82405 11.8266 9 12.4067 9 13C9.00166 13.3944 8.92519 13.7853 8.77501 14.15C8.62483 14.5147 8.40391 14.8461 8.12501 15.125C7.8461 15.4039 7.51473 15.6248 7.15001 15.775C6.78528 15.9252 6.39443 16.0017 6 16ZM9 7C9 6.40666 9.17595 5.82664 9.50559 5.33329C9.83524 4.83994 10.3038 4.45543 10.852 4.22836C11.4001 4.0013 12.0033 3.94189 12.5853 4.05765C13.1672 4.1734 13.7018 4.45912 14.1213 4.87868C14.5409 5.29824 14.8266 5.83279 14.9424 6.41473C15.0581 6.99667 14.9987 7.59987 14.7716 8.14805C14.5446 8.69623 14.1601 9.16477 13.6667 9.49441C13.1734 9.82405 12.5933 10 12 10C11.6056 10.0017 11.2147 9.92519 10.85 9.77501C10.4853 9.62483 10.1539 9.40391 9.87499 9.12501C9.59609 8.8461 9.37517 8.51473 9.22499 8.15001C9.07482 7.78528 8.99835 7.39443 9 7ZM17 7C17 6.40666 17.1759 5.82664 17.5056 5.33329C17.8352 4.83994 18.3038 4.45543 18.852 4.22836C19.4001 4.0013 20.0033 3.94189 20.5853 4.05765C21.1672 4.1734 21.7018 4.45912 22.1213 4.87868C22.5409 5.29824 22.8266 5.83279 22.9424 6.41473C23.0581 6.99667 22.9987 7.59987 22.7716 8.14805C22.5446 8.69623 22.1601 9.16477 21.6667 9.49441C21.1734 9.82405 20.5933 10 20 10C19.6056 10.0017 19.2147 9.92519 18.85 9.77501C18.4853 9.62483 18.1539 9.40391 17.875 9.12501C17.5961 8.8461 17.3752 8.51473 17.225 8.15001C17.0748 7.78528 16.9983 7.39443 17 7Z"
            fill="currentColor" />
  </symbol>
</svg>


<header class="app-header  border-bottom shadow-sm">
  <div class="container-fluid d-grid gap-3 align-items-center px-2 px-md-3" style="grid-template-columns: 1fr 1fr;">
    <div class="d-flex align-items-center app-header-title">
      <img src="/img/logo.svg" class="img-fluid app-logo" alt="Application Logo" />
      <span class="px-4 app-title fw-bold d-none d-md-block">PET BOARDING SERVICE</span>
    </div>

    <div class="d-flex align-items-center justify-content-end">
      <a class="user-name mx-1" th:if="${session.user}" th:text="${session.user.employee.getFullName()}" th:href="@{/myprofile}">User's Names</a>
      <span class="user-name mx-1" th:unless="${session.user}">Placeholder Name</span>
      <span class="mx-2 d-none d-sm-inline-block">
        <th:block th:if="${session.user}">
          <img class="user-profile-picture img-thumbnail" th:if="${session.user.employee.photo}" th:src="${session.user.employee.getPhotoPath()}" alt="User's profile picture">
          <i th:unless="${session.user.employee.photo}" class="bi bi-person-circle user-avatar"></i>
        </th:block>
        <i th:unless="${session.user}" class="bi bi-person-circle user-avatar"></i>
        </span>
      <a class="btn btn-primary" th:href="@{/sign-in/logout}">Logout</a>
    </div>
  </div>
</header>
<div class="d-flex">
  <nav class="navigation-sidebar d-flex flex-column flex-shrink-0 shadow-sm mb-auto">
    <ul class="nav nav-pills nav-flush flex-column mb-auto text-center dropup">
      <div class="navigation-spacer w-100"></div>
      <li th:each="module: ${modules}" th:Object="${module}" th:class="|nav-item ${module == activeModule ? 'active-module py-1' : ''}|">
        <a th:unless="${module == activeModule}" th:href="|/*{path}|" class="nav-link py-1 px-3 border-bottom rounded-0" data-bs-toggle="tooltip"
           data-bs-placement="right" th:attr="aria-label=*{name}, data-bs-original-title=*{name}">
          <i th:class="|bi *{icon}|"></i>
        </a>
        <i th:if="${module == activeModule}" th:class="|bi *{icon}|"></i>
      </li>
    </ul>
    <hr>
    <div class="dropup">
      <a href="#" class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle pb-3 pt-2 px-1" data-bs-toggle="dropdown" aria-expanded="false">
        <div class="selectedTheme themeColorPreview shadow-sm bg-gradient"></div>
      </a>
      <ul class="dropdown-menu text-small shadow">
        <li>
          <a class="dropdown-item" href="javascript:changeTheme('lightBlue')">
            <div class="themeColorPreview shadow-sm bg-gradient lightBlue" data-theme="lightBlue"></div>
            <span>Light Blue</span>
          </a>
        </li>
        <li>
          <a class="dropdown-item" href="javascript:changeTheme('purple')">
            <div class="themeColorPreview shadow-sm bg-gradient purple" data-theme="purple"></div>
            <span>Purple</span>
          </a>
        </li>
        <li>
          <a class="dropdown-item" href="javascript:changeTheme('betterPurple')">
            <div class="themeColorPreview shadow-sm bg-gradient betterPurple" data-theme="better-purple"></div>
            <span>Better Purple</span>
          </a>
        </li>
        <li>
          <a class="dropdown-item" href="javascript:changeTheme('darkGreen')">
            <div class="themeColorPreview shadow-sm bg-gradient darkGreen" data-theme="dark-green"></div>
            <span>Pine</span>
          </a>
        </li>
        <li>
          <a class="dropdown-item" href="javascript:changeTheme('monochrome')">
            <div class="themeColorPreview shadow-sm bg-gradient monochrome" data-theme="monochrome"></div>
            <span>Monochrome</span>
          </a>
        </li>
        <li>
          <a class="dropdown-item" href="javascript:changeTheme('orange')">
            <div class="themeColorPreview shadow-sm bg-gradient orange" data-theme="orange"></div>
            <span>Orange</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="d-flex flex-column w-100">
    <div class="module-breadcrumbs py-0 px-4">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a th:text="${activeModule.name}" th:href="@{|/${activeModule.path}|}" class="module-name" >
            Active Module's Name
          </a>
        </li>
        <li th:each="location: ${moduleLocations}" th:text="${location}" class="breadcrumb-item active" >
            Locations
        </li>
      </ol>
    </div>
    <div th:if="${errorMessage} or ${infoMessage} or ${customMessage}" id="toastContainer" class="toast-container position-static">
      <div th:if="${errorMessage}" id="errorAlert" class="toast fade position-absolute top-50 start-50 translate-middle border-danger fs-6"
           role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
        <div class="toast-header bg-danger bg-gradient">
          <i class="bi bi-exclamation-circle text-white"></i>
          <strong class="me-auto mx-2 text-white">Error</strong>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body" th:utext="${errorMessage}">
          errorMessage
        </div>
      </div>
      <div th:if="${infoMessage}" id="infoAlert" class="toast fade position-absolute top-50 start-50 translate-middle fs-6"
           role="status" aria-live="polite" aria-atomic="true" >
        <div class="toast-header text-bg-primary bg-gradient">
          <i class="bi bi-info-circle"></i>
          <strong class="me-auto mx-2">Info</strong>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body" th:utext="${infoMessage}">
          infoMessage
        </div>
      </div>
      <script>
          // Trigger the alert messages to show and when they are close manually or automatically they get removed
          $(function() {
            $('.toast').toast('show');
            $('.toast').on('hidden.bs.toast', ()=> {
               $('.toast-container').remove();
            });
          });
      </script>
    </div>
    <main class="content pt-1 px-4" th:insert="${content}">
    </main>
  </div>
</div>
</body>

</html>